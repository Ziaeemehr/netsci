<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Chapter 4 &#8212; netsci 0.1.dev1+ga98daff documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=3ee1c6c6" />
    <link rel="stylesheet" type="text/css" href="../_static/nature.css?v=279e0f84" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
    <script src="../_static/documentation_options.js?v=23f6d7f7"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Chapter 3" href="chap_03.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="chap_03.html" title="Chapter 3"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">netsci 0.1.dev1+ga98daff documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Chapter 4</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="Chapter-4">
<h1><a class="reference external" href="https://github.com/Ziaeemehr/netsci/blob/main/docs/examples/chap_04.ipynb">Chapter 4</a><a class="headerlink" href="#Chapter-4" title="Link to this heading">¶</a></h1>
<section id="THE-SCALE-FREE-PROPERTY">
<h2><strong>THE SCALE-FREE PROPERTY</strong><a class="headerlink" href="#THE-SCALE-FREE-PROPERTY" title="Link to this heading">¶</a></h2>
<p>Code by : Abolfazl Ziaeemehr</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/Ziaeemehr">https://github.com/Ziaeemehr</a></p></li>
</ul>
<p><img alt="Open In Colab" src="https://colab.research.google.com/assets/colab-badge.svg" /></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># uncomment and run this line to install the package on colab</span>
<span class="c1"># !pip install &quot;git+https://github.com/Ziaeemehr/netsci.git&quot; -q</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">netsci.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">generate_power_law_dist</span><span class="p">,</span> <span class="n">generate_power_law_dist_bounded</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">LABELSIZE</span> <span class="o">=</span> <span class="mi">13</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;axes&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="n">LABELSIZE</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;axes&#39;</span><span class="p">,</span> <span class="n">titlesize</span><span class="o">=</span><span class="n">LABELSIZE</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;figure&#39;</span><span class="p">,</span> <span class="n">titlesize</span><span class="o">=</span><span class="n">LABELSIZE</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;legend&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">LABELSIZE</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;xtick&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="n">LABELSIZE</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;ytick&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="n">LABELSIZE</span><span class="p">)</span>
<span class="c1"># set legend font size</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;legend&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Figure-4.4,-Comparing-Poisson-and-Powe-law-Distributions">
<h2>Figure 4.4, Comparing Poisson and Powe-law Distributions<a class="headerlink" href="#Figure-4.4,-Comparing-Poisson-and-Powe-law-Distributions" title="Link to this heading">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">poisson</span>

<span class="c1"># Parameters</span>
<span class="n">mean_poisson</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">alpha_power_law</span> <span class="o">=</span> <span class="mf">2.1</span>
<span class="n">x_values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>

<span class="c1"># Poisson Distribution</span>
<span class="n">poisson_pmf</span> <span class="o">=</span> <span class="n">poisson</span><span class="o">.</span><span class="n">pmf</span><span class="p">(</span><span class="n">x_values</span><span class="p">,</span> <span class="n">mean_poisson</span><span class="p">)</span>

<span class="c1"># Power Law Distribution</span>
<span class="n">power_law_pdf</span> <span class="o">=</span> <span class="n">x_values</span> <span class="o">**</span> <span class="p">(</span><span class="o">-</span><span class="n">alpha_power_law</span><span class="p">)</span>
<span class="c1"># Normalize power-law PDF to make it a valid probability distribution</span>
<span class="n">power_law_pdf</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">power_law_pdf</span><span class="p">)</span>

<span class="c1"># Plotting</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_values</span><span class="p">,</span> <span class="n">poisson_pmf</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Poisson Distribution (mean=11)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x_values</span><span class="p">,</span> <span class="n">power_law_pdf</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Power Law Distribution (α=-2.1)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">50</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.15</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$p_k$&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Comparison of Poisson and Power Law Distributions&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">x_values</span><span class="p">,</span> <span class="n">poisson_pmf</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;poisson&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">x_values</span><span class="p">,</span> <span class="n">power_law_pdf</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;powerlaw&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mf">1e-6</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;$p_k$&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_chap_04_6_0.png" src="../_images/examples_chap_04_6_0.png" />
</div>
</div>
</section>
<section id="load-sample-graphs-of-the-book">
<h2>load sample graphs of the book<a class="headerlink" href="#load-sample-graphs-of-the-book" title="Link to this heading">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">netsci.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">list_sample_graphs</span><span class="p">,</span> <span class="n">load_sample_graph</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">netsci.analysis</span><span class="w"> </span><span class="kn">import</span> <span class="n">graph_info</span>

<span class="c1"># on colab:</span>
<span class="n">nets</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Collaboration&#39;</span><span class="p">,</span> <span class="s1">&#39;Internet&#39;</span><span class="p">,</span> <span class="s1">&#39;PowerGrid&#39;</span><span class="p">,</span> <span class="s1">&#39;Protein&#39;</span><span class="p">,</span> <span class="s1">&#39;PhoneCalls&#39;</span><span class="p">,</span> <span class="s1">&#39;Citation&#39;</span><span class="p">,</span> <span class="s1">&#39;Metabolic&#39;</span><span class="p">,</span> <span class="s1">&#39;Email&#39;</span><span class="p">,</span> <span class="s1">&#39;WWW&#39;</span><span class="p">,</span> <span class="s1">&#39;Actor&#39;</span><span class="p">]</span>

<span class="c1"># on local:</span>
<span class="n">nets</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">list_sample_graphs</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nets</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;Collaboration&#39;, &#39;Internet&#39;, &#39;PowerGrid&#39;, &#39;Protein&#39;, &#39;PhoneCalls&#39;, &#39;Citation&#39;, &#39;Metabolic&#39;, &#39;Email&#39;, &#39;WWW&#39;, &#39;Actor&#39;]
</pre></div></div>
</div>
</section>
<section id="On-Google-Colab-only">
<h2>On Google Colab only<a class="headerlink" href="#On-Google-Colab-only" title="Link to this heading">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">google.colab</span><span class="w"> </span><span class="kn">import</span> <span class="n">drive</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="c1"># URL of the zip file to be downloaded</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://networksciencebook.com/translations/en/resources/networks.zip&quot;</span>
<span class="c1"># Mount Google Drive</span>
<span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/drive&#39;</span><span class="p">)</span>
<span class="c1"># Create the &#39;network_science&#39; directory in MyDrive if it doesn&#39;t exist</span>
<span class="n">network_science_dir</span> <span class="o">=</span> <span class="s1">&#39;/content/drive/MyDrive/network_science&#39;</span>
<span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">network_science_dir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># empty the directory</span>
<span class="err">!</span><span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="o">/</span><span class="n">content</span><span class="o">/</span><span class="n">drive</span><span class="o">/</span><span class="n">MyDrive</span><span class="o">/</span><span class="n">network_science</span><span class="o">/*</span>
<span class="c1"># Change directory to &#39;network_science&#39;</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">network_science_dir</span><span class="p">)</span>
<span class="c1"># Download the zip file to the &#39;network_science&#39; directory</span>
<span class="err">!</span><span class="n">wget</span> <span class="err">$</span><span class="n">url</span> <span class="o">-</span><span class="n">O</span> <span class="n">networks</span><span class="o">.</span><span class="n">zip</span>
<span class="c1"># Unzip the downloaded file in the &#39;network_science&#39; directory</span>
<span class="err">!</span><span class="n">unzip</span> <span class="n">networks</span><span class="o">.</span><span class="n">zip</span>

<span class="n">json_file</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/Ziaeemehr/netsci/main/netsci/datasets/sample_graphs.json&quot;</span>
<span class="c1"># download json file</span>
<span class="err">!</span><span class="n">wget</span> <span class="err">$</span><span class="n">json_file</span> <span class="o">-</span><span class="n">O</span> <span class="n">sample_graphs</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">powerlaw</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">Counter</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.stats</span><span class="w"> </span><span class="kn">import</span> <span class="n">poisson</span>


<span class="n">G_collab</span> <span class="o">=</span> <span class="n">load_sample_graph</span><span class="p">(</span><span class="s2">&quot;Collaboration&quot;</span><span class="p">)</span> <span class="c1"># on colab: add colab_path=network_science_dir</span>
<span class="n">graph_info</span><span class="p">(</span><span class="n">G_collab</span><span class="p">,</span> <span class="n">quick</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">degrees</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">G_collab</span><span class="o">.</span><span class="n">degree</span><span class="p">())</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="n">degree_count</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">degrees</span><span class="p">)</span>
<span class="n">k</span><span class="p">,</span> <span class="n">pk</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">degree_count</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">pk</span><span class="p">,</span> <span class="s1">&#39;b.&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;$k$&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;$k$&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;pk&quot;</span><span class="p">);</span>

<span class="n">fit</span> <span class="o">=</span> <span class="n">powerlaw</span><span class="o">.</span><span class="n">Fit</span><span class="p">(</span><span class="n">pk</span><span class="p">)</span> <span class="c1"># xmax=80</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; α = </span><span class="si">{</span><span class="n">fit</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">alpha</span><span class="si">:</span><span class="s2">6.3f</span><span class="si">}</span><span class="s2">, σ = ± </span><span class="si">{</span><span class="n">fit</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">sigma</span><span class="si">:</span><span class="s2">6.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># the exponent</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Graph information
Directed                                :                False
Number of nodes                         :                23133
Number of edges                         :                93439
Average degree                          :               8.0784
Connectivity                            :         disconnected
Calculating best minimal value for power law fit
 α =  1.410, σ = ±  0.037
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_chap_04_11_1.png" src="../_images/examples_chap_04_11_1.png" />
</div>
</div>
</section>
<section id="Generate-the-powerlaw-distribution-(bounded)">
<h2>Generate the powerlaw distribution (bounded)<a class="headerlink" href="#Generate-the-powerlaw-distribution-(bounded)" title="Link to this heading">¶</a></h2>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">generate_power_law_dist</span><span class="err">?</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">Signature:</span> generate_power_law_dist<span class="ansi-blue-fg">(</span>N<span class="ansi-blue-fg">:</span> int<span class="ansi-blue-fg">,</span> a<span class="ansi-blue-fg">:</span> float<span class="ansi-blue-fg">,</span> xmin<span class="ansi-blue-fg">:</span> float<span class="ansi-blue-fg">)</span>
<span class="ansi-red-fg">Docstring:</span>
generate power law random numbers p(k) ~ x^(-a) for a&gt;1

Parameters
-----------
N:
    is the number of random numbers
a:
    is the exponent
xmin:
    is the minimum value of distribution

Returns
-----------
value: np.array
    powerlaw distribution
<span class="ansi-red-fg">File:</span>      ~/git/workshops/network_science/netsci/netsci/utils.py
<span class="ansi-red-fg">Type:</span>      function
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">generate_power_law_dist_bounded</span><span class="err">?</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">Signature:</span>
generate_power_law_dist_bounded<span class="ansi-blue-fg">(</span>
    N<span class="ansi-blue-fg">:</span> int<span class="ansi-blue-fg">,</span>
    a<span class="ansi-blue-fg">:</span> float<span class="ansi-blue-fg">,</span>
    xmin<span class="ansi-blue-fg">:</span> float<span class="ansi-blue-fg">,</span>
    xmax<span class="ansi-blue-fg">:</span> float<span class="ansi-blue-fg">,</span>
    seed<span class="ansi-blue-fg">:</span> int <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">-</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">,</span>
<span class="ansi-blue-fg">)</span>
<span class="ansi-red-fg">Docstring:</span>
Generate a power law distribution of floats p(k) ~ x^(-a) for a&gt;1
which is bounded by xmin and xmax

parameters :
    N: int
        number of samples in powerlaw distribution (pwd).
    a:
        exponent of the pwd.
    xmin:
        min value in pwd.
    xmax:
        max value in pwd.
<span class="ansi-red-fg">File:</span>      ~/git/workshops/network_science/netsci/netsci/utils.py
<span class="ansi-red-fg">Type:</span>      function
</pre></div></div>
</div>
<p>plotting the powerlaw distributions</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">plot_distribution</span><span class="p">(</span><span class="n">vrs</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">xmin</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>

    <span class="c1"># plotting the PDF estimated from variates</span>
    <span class="n">bin_min</span><span class="p">,</span> <span class="n">bin_max</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">vrs</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">vrs</span><span class="p">)</span>
    <span class="n">bins</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">bin_min</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">bin_max</span><span class="p">),</span> <span class="mi">100</span><span class="p">))</span>
    <span class="n">counts</span><span class="p">,</span> <span class="n">edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">vrs</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">centers</span> <span class="o">=</span> <span class="p">(</span><span class="n">edges</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">edges</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mf">2.</span>

    <span class="c1"># plotting the expected PDF</span>
    <span class="n">xs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">bin_min</span><span class="p">,</span> <span class="n">bin_max</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
    <span class="n">expected_pdf</span> <span class="o">=</span> <span class="p">[(</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">xmin</span><span class="o">**</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">x</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xs</span><span class="p">]</span> <span class="c1"># according to eq. 4.12 network science barabasi 2016</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">expected_pdf</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;$x^{-\gamma}$,&quot;</span><span class="o">+</span> <span class="sa">r</span><span class="s2">&quot;${\gamma}$=&quot;</span><span class="o">+</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="o">-</span><span class="n">a</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">centers</span><span class="p">,</span> <span class="n">counts</span><span class="p">,</span> <span class="s1">&#39;k.&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="n">labelsize</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;values&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;PDF&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="n">N</span> <span class="o">=</span> <span class="mi">10000</span>
<span class="n">a</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="n">xmin</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">xmax</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">generate_power_law_dist_bounded</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">plot_distribution</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">N</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">xmin</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1.000035809608483 74.39513593875918
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_chap_04_17_1.png" src="../_images/examples_chap_04_17_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># find the exponent by fitting a power law by powerlaw package</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">powerlaw</span>
<span class="n">fit</span> <span class="o">=</span> <span class="n">powerlaw</span><span class="o">.</span><span class="n">Fit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># xmax=50 we can constrain the max value for fitting</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fit</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">alpha</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># the exponent</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fit</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">sigma</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># standard error</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Calculating best minimal value for power law fit
fit.power_law.alpha=np.float64(2.995340848455978)
fit.power_law.sigma=np.float64(0.02600579145725683)
</pre></div></div>
</div>
<p>Generate descereted power law distribution</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">netsci.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">generate_power_law_discrete</span>
<span class="c1"># Example usage</span>
<span class="n">gamma</span> <span class="o">=</span> <span class="mf">2.5</span>  <span class="c1"># Power-law exponent</span>
<span class="n">k_min</span> <span class="o">=</span> <span class="mi">1</span>    <span class="c1"># Minimum value of k</span>
<span class="n">k_max</span> <span class="o">=</span> <span class="mi">1000</span> <span class="c1"># Maximum value of k</span>
<span class="n">size</span> <span class="o">=</span> <span class="mi">100000</span> <span class="c1"># Number of samples</span>

<span class="n">samples</span> <span class="o">=</span> <span class="n">generate_power_law_discrete</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">k_min</span><span class="p">,</span> <span class="n">k_max</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plot_distribution</span><span class="p">(</span><span class="n">samples</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">k_min</span><span class="p">,</span> <span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_chap_04_20_0.png" src="../_images/examples_chap_04_20_0.png" />
</div>
</div>
</section>
<section id="Table-4.1">
<h2>Table 4.1<a class="headerlink" href="#Table-4.1" title="Link to this heading">¶</a></h2>
<p>loading with igraph</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">igraph</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ig</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tqdm</span><span class="w"> </span><span class="kn">import</span> <span class="n">tqdm</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">netsci.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">list_sample_graphs</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">netsci.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_sample_dataset_path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">netsci.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">download_sample_dataset</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">netsci.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_sample_graphi</span>

<span class="c1"># download_sample_dataset()</span>
<span class="n">sample_graph_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">list_sample_graphs</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="c1"># not on colab</span>
<span class="n">sample_graph_names</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;Collaboration&#39;,
 &#39;Internet&#39;,
 &#39;PowerGrid&#39;,
 &#39;Protein&#39;,
 &#39;PhoneCalls&#39;,
 &#39;Citation&#39;,
 &#39;Metabolic&#39;,
 &#39;Email&#39;,
 &#39;WWW&#39;,
 &#39;Actor&#39;]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># select the files in the path ending with .edgelist.txt</span>
<span class="n">graphs</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">sample_graph_names</span><span class="p">,</span> <span class="n">desc</span><span class="o">=</span><span class="s2">&quot;processing graphs&quot;</span><span class="p">):</span>
    <span class="n">G</span> <span class="o">=</span> <span class="n">load_sample_graphi</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="c1"># on colab: add colab_path=network_science_dir</span>
    <span class="n">directed</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">is_directed</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">directed</span><span class="p">:</span>
        <span class="n">in_degrees</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;in&quot;</span><span class="p">)</span>
        <span class="n">out_degrees</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;out&quot;</span><span class="p">)</span>
        <span class="n">in_degree_count</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">in_degrees</span><span class="p">)</span>
        <span class="n">out_degree_count</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">out_degrees</span><span class="p">)</span>
        <span class="n">in_k</span><span class="p">,</span> <span class="n">in_pk</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">in_degree_count</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="n">out_k</span><span class="p">,</span> <span class="n">out_pk</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">out_degree_count</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="n">graphs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">=</span><span class="p">{}</span>
        <span class="n">graphs</span><span class="p">[</span><span class="n">name</span><span class="p">][</span><span class="s1">&#39;in_k&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">in_k</span>
        <span class="n">graphs</span><span class="p">[</span><span class="n">name</span><span class="p">][</span><span class="s1">&#39;in_pk&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">in_pk</span>
        <span class="n">graphs</span><span class="p">[</span><span class="n">name</span><span class="p">][</span><span class="s1">&#39;out_k&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">out_k</span>
        <span class="n">graphs</span><span class="p">[</span><span class="n">name</span><span class="p">][</span><span class="s1">&#39;out_pk&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">out_pk</span>
        <span class="n">graphs</span><span class="p">[</span><span class="n">name</span><span class="p">][</span><span class="s1">&#39;directed&#39;</span><span class="p">]</span><span class="o">=</span><span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">degrees</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">degree</span><span class="p">()</span>
        <span class="n">degree_count</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">degrees</span><span class="p">)</span>
        <span class="n">k</span><span class="p">,</span> <span class="n">pk</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">degree_count</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="n">graphs</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">=</span><span class="p">{}</span>
        <span class="n">graphs</span><span class="p">[</span><span class="n">name</span><span class="p">][</span><span class="s1">&#39;k&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">k</span>
        <span class="n">graphs</span><span class="p">[</span><span class="n">name</span><span class="p">][</span><span class="s1">&#39;pk&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">pk</span>
        <span class="n">graphs</span><span class="p">[</span><span class="n">name</span><span class="p">][</span><span class="s1">&#39;directed&#39;</span><span class="p">]</span><span class="o">=</span><span class="kc">False</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
processing graphs: 100%|██████████| 10/10 [00:40&lt;00:00,  4.05s/it]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">fit_powerlaw</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">pk</span><span class="p">,</span> <span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">label_inout</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>

    <span class="n">fit</span> <span class="o">=</span> <span class="n">powerlaw</span><span class="o">.</span><span class="n">Fit</span><span class="p">(</span><span class="n">pk</span><span class="p">)</span>
    <span class="n">alpha</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">alpha</span>
    <span class="n">sigma</span> <span class="o">=</span> <span class="n">fit</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">sigma</span>
    <span class="n">fit</span><span class="o">.</span><span class="n">plot_pdf</span><span class="p">(</span><span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;pdf &#39;</span> <span class="o">+</span> <span class="n">label_inout</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">fit</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">plot_pdf</span><span class="p">(</span><span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;fit &#39;</span> <span class="o">+</span> <span class="n">label_inout</span><span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;$\gamma$=</span><span class="si">{</span><span class="n">alpha</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">)</span>
    <span class="c1"># ax.text(0.1, 0.1, f&quot;α = {alpha:.2f}, σ = ± {sigma:.2f}&quot;, transform=ax.transAxes)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">sigma</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
<span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">alpha_list</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">graphs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;directed&#39;</span><span class="p">]:</span>
        <span class="n">alpha_in</span><span class="p">,</span> <span class="n">sigma_in</span> <span class="o">=</span> <span class="n">fit_powerlaw</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;in_k&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;in_pk&#39;</span><span class="p">],</span> <span class="n">ax</span><span class="p">[</span><span class="n">counter</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">label_inout</span><span class="o">=</span><span class="s2">&quot;in&quot;</span><span class="p">)</span>
        <span class="n">alpha_out</span><span class="p">,</span> <span class="n">sigma_out</span> <span class="o">=</span> <span class="n">fit_powerlaw</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;out_k&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;out_pk&#39;</span><span class="p">],</span> <span class="n">ax</span><span class="p">[</span><span class="n">counter</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">label_inout</span><span class="o">=</span><span class="s2">&quot;out&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">alpha</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="n">fit_powerlaw</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;k&#39;</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;pk&#39;</span><span class="p">],</span> <span class="n">ax</span><span class="p">[</span><span class="n">counter</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
    <span class="n">alpha_list</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">sigma</span><span class="p">)</span>
    <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">();</span>
<span class="c1"># ax.legend(frameon=False);</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
Calculating best minimal value for power law fit
xmin progress: 99%
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_chap_04_24_1.png" src="../_images/examples_chap_04_24_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># np.mean(graphs[&#39;www&#39;][&#39;k&#39;]), np.mean(graphs[&#39;www&#39;][&#39;pk&#39;])</span>
<span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">graphs</span><span class="p">[</span><span class="s1">&#39;collaboration&#39;</span><span class="p">][</span><span class="s1">&#39;k&#39;</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">graphs</span><span class="p">[</span><span class="s1">&#39;collaboration&#39;</span><span class="p">][</span><span class="s1">&#39;pk&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(np.float64(68.5327868852459), np.float64(189.61475409836066))
</pre></div></div>
</div>
<section id="Powerlaw-package">
<h3>Powerlaw package<a class="headerlink" href="#Powerlaw-package" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Alstott, J., Bullmore, E. and Plenz, D., 2014. powerlaw: a Python package for analysis of heavy-tailed distributions. PloS one, 9(1), p.e85777.</p>
<ul>
<li><p>probability density function (PDF),</p></li>
<li><p>cumulative distribution function (CDF)</p></li>
<li><p>complementary cumulative distribution (CCDF)</p></li>
</ul>
</li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">powerlaw</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">fit</span> <span class="o">=</span> <span class="n">powerlaw</span><span class="o">.</span><span class="n">Fit</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># xmax=50</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fit</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">alpha</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fit</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">sigma</span><span class="si">=}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="o">*</span><span class="mi">70</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fit</span><span class="o">.</span><span class="n">distribution_compare</span><span class="p">(</span><span class="s2">&quot;power_law&quot;</span><span class="p">,</span> <span class="s2">&quot;exponential&quot;</span><span class="p">))</span>

<span class="n">powerlaw</span><span class="o">.</span><span class="n">plot_pdf</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">linear_bins</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Calculating best minimal value for power law fit
fit.power_law.alpha=2.995340848455978
fit.power_law.sigma=0.02600579145725683
----------------------------------------------------------------------
(894.9727455051284, 5.263968413468816e-22)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_chap_04_27_1.png" src="../_images/examples_chap_04_27_1.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">fit</span><span class="o">.</span><span class="n">plot_pdf</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;pdf&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">fit</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">plot_pdf</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;fit pdf&#39;</span><span class="p">)</span>
<span class="n">fit</span><span class="o">.</span><span class="n">plot_ccdf</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ccdf&#39;</span><span class="p">)</span>
<span class="n">fit</span><span class="o">.</span><span class="n">power_law</span><span class="o">.</span><span class="n">plot_ccdf</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;fit ccdf&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">);</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/examples_chap_04_28_0.png" src="../_images/examples_chap_04_28_0.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Chapter 4</a><ul>
<li><a class="reference internal" href="#THE-SCALE-FREE-PROPERTY"><strong>THE SCALE-FREE PROPERTY</strong></a></li>
<li><a class="reference internal" href="#Figure-4.4,-Comparing-Poisson-and-Powe-law-Distributions">Figure 4.4, Comparing Poisson and Powe-law Distributions</a></li>
<li><a class="reference internal" href="#load-sample-graphs-of-the-book">load sample graphs of the book</a></li>
<li><a class="reference internal" href="#On-Google-Colab-only">On Google Colab only</a></li>
<li><a class="reference internal" href="#Generate-the-powerlaw-distribution-(bounded)">Generate the powerlaw distribution (bounded)</a></li>
<li><a class="reference internal" href="#Table-4.1">Table 4.1</a><ul>
<li><a class="reference internal" href="#Powerlaw-package">Powerlaw package</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="chap_03.html"
                          title="previous chapter">Chapter 3</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/examples/chap_04.ipynb.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="chap_03.html" title="Chapter 3"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">netsci 0.1.dev1+ga98daff documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Chapter 4</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, Abolfazl Ziaeemehr.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>